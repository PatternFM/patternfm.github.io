<!DOCTYPE HTML>
<html>
	<head>
    <title>The Spin framework allows you to seamlessly start and stop your microservices infrastructure as part of a JUnit test run.</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="/assets/css/main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
		<link href="https://fonts.googleapis.com/css?family=Open+Sans|Raleway|Voces" rel="stylesheet">
		
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-90367614-2', 'auto');
    ga('send', 'pageview');
  </script>

	</head>
	<body>

			<section id="sidebar">
				<div class="inner">
					<nav>
						<ul>
							<li><a href="#about">About</a></li>
							<li><a href="#documentation">Documentation</a></li>
							<li><a href="https://github.com/PatternFM/spin">Source Code</a></li>
							<li><a href="https://travis-ci.org/PatternFM/spin">Travis CI</a></li>
	            <li><a href="https://codebeat.co/projects/github-com-patternfm-spin-master">CodeBeat</a></li>
							<li><a href="https://coveralls.io/github/PatternFM/spin">Coveralls</a></li>
							<li><a href="https://github.com/PatternFM/spin/blob/master/LICENSE.txt">License</a></li>
						</ul>
					</nav>
				</div>
			</section>

			<div id="wrapper">
					<section id="about" class="wrapper style3 fullscreen fade-up overview">
						<div class="inner">
							<h1>spin</h1>
							<p>The Spin framework allows you to seamlessly start and stop your microservices infrastructure as part of a JUnit test run.</p>
							<ul class="actions">
								<li><a href="#documentation" class="button scrolly">Learn more</a></li>
							</ul>
						</div>
					</section>

					<section id="documentation" class="wrapper style2 spotlights">
						<div class="inner">
							<h1 id="introduction">Introduction</h1>

<h1 id="quick-start">Quick Start</h1>

<h4 id="add-spin-to-your-project-dependency-list">1. Add Spin to your project dependency list</h4>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>fm.pattern<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>spin<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>1.0.3<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre>
</div>

<h4 id="write-a-junit-test-extending-automatedacceptancetest">2. Write a JUnit test extending AutomatedAcceptanceTest</h4>

<p>This is the only Java code youâ€™ll need to write.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>import fm.pattern.spin.junit.AutomatedAcceptanceTest;

public class MyTestCase extends AutomatedAcceptanceTest {

    @Test
    public void someTest() {
    
    }

}
</code></pre>
</div>

<h4 id="write-start-and-stop-scripts-for-your-server">3. Write start and stop scripts for your server</h4>

<p>You can use any programming or scripting language that you like to start and stop your server, so long as Spin can execute it from the command line.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
nohup mvn spring-boot:run &gt;/dev/null 2&gt;&amp;1 &amp;
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
curl -s -X POST http://localhost:8081/manage/shutdown &gt; /dev/null
</code></pre>
</div>

<h4 id="place-a-file-named-spinyml-on-the-root-of-your-classpath">4. Place a file named spin.yml on the root of your classpath</h4>

<p>Configure the relative location to your start and stop scripts. You must also specify a fully qualified URL to a service endpoint (a ping or healthcheck endpoint), which Spin will check to determine if your server is up and running.</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">Your Server</span><span class="pi">:</span> 
  <span class="s">start</span><span class="pi">:</span> <span class="s">../your-server/start.sh</span>
  <span class="s">stop</span><span class="pi">:</span> <span class="s">../your-server/stop.sh</span>
  <span class="s">ping</span><span class="pi">:</span> <span class="s">http://localhost:9600/v1/ping</span>
</code></pre>
</div>

<h4 id="run-your-test">5. Run your test</h4>

<p>Run your test like you normally would though your IDE or Maven. Spin will determine if your server is running, and boot it if necessary - the JUnit test suite will begin once your server is up and running. At the end of the test suite Spin will shutdown your server if it was started by Spin.</p>

						</div>
					</section>
			</div>

			<script src="/assets/js/jquery.min.js"></script>
			<script src="/assets/js/jquery.scrollex.min.js"></script>
			<script src="/assets/js/jquery.scrolly.min.js"></script>
			<script src="/assets/js/skel.min.js"></script>
			<script src="/assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="/assets/js/main.js"></script>
	</body>
</html>
